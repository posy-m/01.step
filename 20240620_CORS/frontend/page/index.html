<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<body>
  <div>메인페이징</div>
  <img src="http://127.0.0.1:3000/img/20171223144451_3_1718770522330.png" alt="">
  <input type="text" id="imgs">
  <input type="file" id="file">
  <button id="uploadBtn">전송</button>
  <!-- button으로 서브밋 전송할거임 -->
  <!-- form데이터가 생성되고 네임으로 키값이 포함되서 만들어져서 요청을 보냄 -->
</body>

<script>
  uploadBtn.onclick = () => {
    // FormData : form데이터가 생성되고 네임으로 키값이 포함되서 만들어져서 요청을 보냄
    const form = new FormData();
    // html상에서 name으로 키값을 작성해서 전달 했던 data 객체
    //   <form action="">
    //   <input type="text" name="img">
    // </form>
    form.append("img", imgs.value)
    //{img : value}
    // file : input에 담겨 있는 file자체
    form.append("upload", file.files[0]);

    //post 데이터 전달
    // { data: { id: 1, pw: 2 } }
    axios.post("http://127.0.0.1:4000/login", { uid: 1, upw: 2 }, {
      //헤더 내용
      // "Content-Type": "nultipart/form-data"
    }).then((e) => {
      console.log("잘 업로드 됐당");
      console.log(e.data);
    })
  }
</script>

</html>